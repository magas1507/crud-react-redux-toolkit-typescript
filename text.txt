instalar redux-toolkit
pnpm install @reduxjs/toolkit react-redux -E

-creamos una carpeta 
lo primero que necesitamos es store, es donde se guardan las cosas 
estado
acciones
reducers

adicionamos el configure store
import {configureStore} from "@reduxjs/toolkit"

nuestra APP debemos envolverla con un provaider, para poder darle a entender a mi app que estamos usando redux, se realiza en el main 

Provider nnos permite leer la store desde cualquier componente de la app y nos permite mandar acciones a esa store, para que genere nuevos estados

store(donde guardamos todo) ese store va a estar dividido en diferentes secciones(slice)

***como tipar un reducer
exportamos un tipo que sea del estado de la raiz y le dices que el tipo del estado es ReturnType<de donde lo vas a sacar>

una buena practica es crear un customhook para ese store
*useDispatch: Sirve para enviar (dispatch) acciones al store.Las acciones son objetos que dicen quÃ© quieres hacer (por ejemplo, â€œagregar usuarioâ€, â€œcambiar temaâ€, etc.).
El dispatch las envÃ­a al reducer, que es quien actualiza el estado segÃºn la acciÃ³n.

*useSelector: puedes acceder a una parte de ese estado dentro de tu componente.

Otra forma de llamaar el dispatch mas efectiva y no generes una dependencia entre componentes es cuando importes por ejempolo 
forman comÃºn
componente

  ListOfUsers.tsx

  import { useAppSelector, useAppDispatch } from '../hooks/store';

  const users = useAppSelector((state) => state.users)

  //recuperamos la acciÃ³n con el dispatch
  //esta no es la manera mÃ¡s adecuada, lo mejor es separarlo, porque tienes que estar llamandolo en todos 
  const dispatch = useDispatch()

  // const handleRemoveUser = (id: User) => {
  //   dispatch(deleteUserByID(id))
  // }

  creamos un custom hook useUserActions.ts

  y lo importamos a donde necesitamos
   
****middleware : es como capturar un momento en concreto 

   O que Ã© um middleware?

Um middleware Ã© uma funÃ§Ã£o intermediÃ¡ria que fica entre o momento em que uma action Ã© despachada (dispatch) e o momento em que ela chega ao reducer.

ğŸ‘‰ Ele serve para interceptar, modificar ou reagir Ã s actions antes que alterem o estado global.

ğŸ” Fluxo com middleware:
Componente â†’ dispatch(action) â†’ middleware(s) â†’ reducer â†’ novo estado â†’ UI atualizada

ğŸ¯ Para que serve um middleware

Fazer requisiÃ§Ãµes assÃ­ncronas (ex: chamadas de API).

Fazer logs (ver quais actions foram disparadas).

Fazer validaÃ§Ãµes, monitoramento, ou tratamento de erros.

Interagir com armazenamento local (localStorage, cookies, etc.).

Executar side effects sem alterar o reducer.

ğŸ§© Middlewares no Redux Toolkit

O RTK jÃ¡ vem com middlewares padrÃ£o configurados automaticamente, como:

redux-thunk â†’ permite despachar funÃ§Ãµes assÃ­ncronas (por exemplo, usando createAsyncThunk);

serializableCheck â†’ verifica se o estado e as actions sÃ£o serializÃ¡veis;

immutableCheck â†’ garante que o estado nÃ£o estÃ¡ sendo mutado diretamente.

Quando vocÃª cria a store com configureStore(), eles jÃ¡ estÃ£o lÃ¡:

import { configureStore } from '@reduxjs/toolkit'
import userReducer from './userSlice'

export const store = configureStore({
  reducer: {
    user: userReducer
  }
})


ğŸ‘† Isso jÃ¡ inclui o thunk e outros middlewares automaticamente â€” vocÃª nÃ£o precisa adicionar manualmente.